---
title: "main"
output: pdf_document
date: "2025-11-18"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, echo=FALSE, comment=NA}
# push test
```


```{r}
nba_merged
```


Code to adjust awards won into qualitative variables:
```{r, comment=NA}
library(stringr)
library(dplyr)

count_award_wins <- function(award_string) {
  # Handle missing or empty entries
  if (is.na(award_string) || award_string == "") return(0L)
  
  # 1) Hyphen-based awards (e.g., MVP-1, DPOY-1, CPOY-1)
  placements_hyphen <- str_extract_all(award_string, "(?<=-)\\d+")[[1]]
  hyphen_wins <- sum(as.integer(placements_hyphen) == 1, na.rm = TRUE)
  
  # 2) All-NBA team selections (NBA1, NBA2, NBA3) â€” all count as wins
  nba_awards <- str_extract_all(award_string, "NBA[1-3]")[[1]]
  nba_wins <- length(nba_awards)
  
  # Total wins
  hyphen_wins + nba_wins
}

nba_merged <- nba_merged %>%
  mutate(
    n_awards_won = vapply(Awards, count_award_wins, integer(1)),
    
    awards_factor = case_when(
      n_awards_won == 0 ~ "0 awards won",
      n_awards_won == 1 ~ "1 award won",
      n_awards_won >  1 ~ "more than 1 award won"
    ),
    
    awards_factor = factor(
      awards_factor,
      levels = c("0 awards won", "1 award won", "more than 1 award won")
    )
  )

nba_merged
```

```{r, comment=NA}
```